\hypertarget{paging_8h}{}\section{include/mem/paging.h File Reference}
\label{paging_8h}\index{include/mem/paging.\+h@{include/mem/paging.\+h}}
{\ttfamily \#include $<$system.\+h$>$}\\*
Include dependency graph for paging.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=192pt]{paging_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{paging_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structpage__entry}{page\+\_\+entry}
\item 
struct \hyperlink{structpage__table}{page\+\_\+table}
\item 
struct \hyperlink{structpage__dir}{page\+\_\+dir}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{paging_8h_a7d467c1d283fdfa1f2081ba1e0d01b6e}{P\+A\+G\+E\+\_\+\+S\+I\+ZE}~0x1000
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{paging_8h_a70101fc152ff58caafbe36ab391a9a68}{set\+\_\+bit} (\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int} addr)
\item 
void \hyperlink{paging_8h_adcef508c82c20a032508f871e79e1b92}{clear\+\_\+bit} (\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int} addr)
\item 
\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int} \hyperlink{paging_8h_a317b4797bc81f65bd01cfa190800ecdd}{get\+\_\+bit} (\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int} addr)
\item 
\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int} \hyperlink{paging_8h_acb3c25257061521382c7ba900c1c1ab4}{first\+\_\+free} ()
\item 
void \hyperlink{paging_8h_a919b727f386797a8b9d8eceb5c4e7313}{init\+\_\+paging} ()
\item 
void \hyperlink{paging_8h_a3affceba4cd194e1c516404c14abbe7c}{load\+\_\+page\+\_\+dir} (\hyperlink{structpage__dir}{page\+\_\+dir} $\ast$new\+\_\+page\+\_\+dir)
\item 
\hyperlink{structpage__entry}{page\+\_\+entry} $\ast$ \hyperlink{paging_8h_a69b165b3d1adf3aeaae126ca7a5aac3e}{get\+\_\+page} (\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int} addr, \hyperlink{structpage__dir}{page\+\_\+dir} $\ast$dir, int make\+\_\+table)
\item 
void \hyperlink{paging_8h_a04bce9da2c1d7c59f6efd8e4d9b54db7}{new\+\_\+frame} (\hyperlink{structpage__entry}{page\+\_\+entry} $\ast$page)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{paging.\+h@{paging.\+h}!P\+A\+G\+E\+\_\+\+S\+I\+ZE@{P\+A\+G\+E\+\_\+\+S\+I\+ZE}}
\index{P\+A\+G\+E\+\_\+\+S\+I\+ZE@{P\+A\+G\+E\+\_\+\+S\+I\+ZE}!paging.\+h@{paging.\+h}}
\subsubsection[{\texorpdfstring{P\+A\+G\+E\+\_\+\+S\+I\+ZE}{PAGE_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+A\+G\+E\+\_\+\+S\+I\+ZE~0x1000}\hypertarget{paging_8h_a7d467c1d283fdfa1f2081ba1e0d01b6e}{}\label{paging_8h_a7d467c1d283fdfa1f2081ba1e0d01b6e}


\subsection{Function Documentation}
\index{paging.\+h@{paging.\+h}!clear\+\_\+bit@{clear\+\_\+bit}}
\index{clear\+\_\+bit@{clear\+\_\+bit}!paging.\+h@{paging.\+h}}
\subsubsection[{\texorpdfstring{clear\+\_\+bit(u32int addr)}{clear_bit(u32int addr)}}]{\setlength{\rightskip}{0pt plus 5cm}void clear\+\_\+bit (
\begin{DoxyParamCaption}
\item[{{\bf u32int}}]{addr}
\end{DoxyParamCaption}
)}\hypertarget{paging_8h_adcef508c82c20a032508f871e79e1b92}{}\label{paging_8h_adcef508c82c20a032508f871e79e1b92}
Marks a page frame bit as free (0).


\begin{DoxyParams}{Parameters}
{\em addr} & The address of the frame \\
\hline
\end{DoxyParams}
\index{paging.\+h@{paging.\+h}!first\+\_\+free@{first\+\_\+free}}
\index{first\+\_\+free@{first\+\_\+free}!paging.\+h@{paging.\+h}}
\subsubsection[{\texorpdfstring{first\+\_\+free()}{first_free()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf u32int} first\+\_\+free (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{paging_8h_acb3c25257061521382c7ba900c1c1ab4}{}\label{paging_8h_acb3c25257061521382c7ba900c1c1ab4}
Finds the first free page frame.

\begin{DoxyReturn}{Returns}
The first free page frame 
\end{DoxyReturn}
\index{paging.\+h@{paging.\+h}!get\+\_\+bit@{get\+\_\+bit}}
\index{get\+\_\+bit@{get\+\_\+bit}!paging.\+h@{paging.\+h}}
\subsubsection[{\texorpdfstring{get\+\_\+bit(u32int addr)}{get_bit(u32int addr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf u32int} get\+\_\+bit (
\begin{DoxyParamCaption}
\item[{{\bf u32int}}]{addr}
\end{DoxyParamCaption}
)}\hypertarget{paging_8h_a317b4797bc81f65bd01cfa190800ecdd}{}\label{paging_8h_a317b4797bc81f65bd01cfa190800ecdd}
Checks if page frame is in use.


\begin{DoxyParams}{Parameters}
{\em addr} & The address of the frame \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if it is in use 
\end{DoxyReturn}
\index{paging.\+h@{paging.\+h}!get\+\_\+page@{get\+\_\+page}}
\index{get\+\_\+page@{get\+\_\+page}!paging.\+h@{paging.\+h}}
\subsubsection[{\texorpdfstring{get\+\_\+page(u32int addr, page\+\_\+dir $\ast$dir, int make\+\_\+table)}{get_page(u32int addr, page_dir *dir, int make_table)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf page\+\_\+entry}$\ast$ get\+\_\+page (
\begin{DoxyParamCaption}
\item[{{\bf u32int}}]{addr, }
\item[{{\bf page\+\_\+dir} $\ast$}]{dir, }
\item[{int}]{make\+\_\+table}
\end{DoxyParamCaption}
)}\hypertarget{paging_8h_a69b165b3d1adf3aeaae126ca7a5aac3e}{}\label{paging_8h_a69b165b3d1adf3aeaae126ca7a5aac3e}
Finds and returns a page, allocating a new page table if necessary.


\begin{DoxyParams}{Parameters}
{\em addr} & The address of the page \\
\hline
{\em dir} & The page directory \\
\hline
{\em make\+\_\+table} & Boolean to create a table if necessary \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the page 
\end{DoxyReturn}
\index{paging.\+h@{paging.\+h}!init\+\_\+paging@{init\+\_\+paging}}
\index{init\+\_\+paging@{init\+\_\+paging}!paging.\+h@{paging.\+h}}
\subsubsection[{\texorpdfstring{init\+\_\+paging()}{init_paging()}}]{\setlength{\rightskip}{0pt plus 5cm}void init\+\_\+paging (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{paging_8h_a919b727f386797a8b9d8eceb5c4e7313}{}\label{paging_8h_a919b727f386797a8b9d8eceb5c4e7313}
Initializes the kernel page directory and initial kernel heap area. Performs identity mapping of the kernel frames such that the virtual addresses are equivalent to the physical addresses. \index{paging.\+h@{paging.\+h}!load\+\_\+page\+\_\+dir@{load\+\_\+page\+\_\+dir}}
\index{load\+\_\+page\+\_\+dir@{load\+\_\+page\+\_\+dir}!paging.\+h@{paging.\+h}}
\subsubsection[{\texorpdfstring{load\+\_\+page\+\_\+dir(page\+\_\+dir $\ast$new\+\_\+page\+\_\+dir)}{load_page_dir(page_dir *new_page_dir)}}]{\setlength{\rightskip}{0pt plus 5cm}void load\+\_\+page\+\_\+dir (
\begin{DoxyParamCaption}
\item[{{\bf page\+\_\+dir} $\ast$}]{new\+\_\+dir}
\end{DoxyParamCaption}
)}\hypertarget{paging_8h_a3affceba4cd194e1c516404c14abbe7c}{}\label{paging_8h_a3affceba4cd194e1c516404c14abbe7c}
Sets a page directory as the current directory and enables paging via the C\+R0 register,The C\+R3 register enables address translation from linear to physical address.

\href{http://en.wikipedia.org/wiki/Control_register#Control_registers_in_x86_series}{\tt http\+://en.\+wikipedia.\+org/wiki/\+Control\+\_\+register\#\+Control\+\_\+registers\+\_\+in\+\_\+x86\+\_\+series} 
\begin{DoxyParams}{Parameters}
{\em new\+\_\+page\+\_\+dir} & The page directory to set as the current\\
\hline
\end{DoxyParams}
Sets a page directory as the current directory and enables paging via the C\+R0 register, The C\+R3 register enables address translation from linear to physical address.

\href{http://en.wikipedia.org/wiki/Control_register#Control_registers_in_x86_series}{\tt http\+://en.\+wikipedia.\+org/wiki/\+Control\+\_\+register\#\+Control\+\_\+registers\+\_\+in\+\_\+x86\+\_\+series}


\begin{DoxyParams}{Parameters}
{\em new\+\_\+page\+\_\+dir} & The page directory to set as the current \\
\hline
\end{DoxyParams}
\index{paging.\+h@{paging.\+h}!new\+\_\+frame@{new\+\_\+frame}}
\index{new\+\_\+frame@{new\+\_\+frame}!paging.\+h@{paging.\+h}}
\subsubsection[{\texorpdfstring{new\+\_\+frame(page\+\_\+entry $\ast$page)}{new_frame(page_entry *page)}}]{\setlength{\rightskip}{0pt plus 5cm}void new\+\_\+frame (
\begin{DoxyParamCaption}
\item[{{\bf page\+\_\+entry} $\ast$}]{page}
\end{DoxyParamCaption}
)}\hypertarget{paging_8h_a04bce9da2c1d7c59f6efd8e4d9b54db7}{}\label{paging_8h_a04bce9da2c1d7c59f6efd8e4d9b54db7}
Marks a frame as in use un the frame bitmap, sets up the page, and saves$\ast$ the frame index in the page.$\ast$ 
\begin{DoxyParams}{Parameters}
{\em page} & The page to create the frame in\\
\hline
\end{DoxyParams}
Marks a frame as in use un the frame bitmap, sets up the page, and saves$\ast$ the frame index in the page.


\begin{DoxyParams}{Parameters}
{\em page} & The page to create the frame in \\
\hline
\end{DoxyParams}
\index{paging.\+h@{paging.\+h}!set\+\_\+bit@{set\+\_\+bit}}
\index{set\+\_\+bit@{set\+\_\+bit}!paging.\+h@{paging.\+h}}
\subsubsection[{\texorpdfstring{set\+\_\+bit(u32int addr)}{set_bit(u32int addr)}}]{\setlength{\rightskip}{0pt plus 5cm}void set\+\_\+bit (
\begin{DoxyParamCaption}
\item[{{\bf u32int}}]{addr}
\end{DoxyParamCaption}
)}\hypertarget{paging_8h_a70101fc152ff58caafbe36ab391a9a68}{}\label{paging_8h_a70101fc152ff58caafbe36ab391a9a68}
Marks a page frame bit as in use (1).


\begin{DoxyParams}{Parameters}
{\em addr} & The address of the frame \\
\hline
\end{DoxyParams}
